{% extends "tasks/base.html" %}
{% load crispy_forms_filters %}
{% load crispy_forms_tags %}
{% block title %}
Home
{% endblock title %}
{% block content %}
<div class="row pb-2">

        <form action="{% url 'tasks:createtask' %}" method="post">
            {% csrf_token %}
            <div class="row align-items-center">
                <div class="col-5">
                    <label for="{{ form.task_text.id_for_label }}">Task Text</label>
                    {{ form.task_text }}
                </div>
                <div class="col-5">
                    <label for="{{ form.task_tag.id_for_label }}">Task Tag</label>
                    {{ form.task_tag }}
                </div>
                <div class="col-2 align-self-end">
                    <button type="submit" class="btn btn-primary" name="save">Create New</button>
                </div>
            </div>
        </form>

</div>

<div class="row">
    <div class="col">
        <table class="table table-striped table-hover table-sm" name="taskstable">
            <thead>
                <tr>
                    <th style="width: 15%;">Task Tag</th> <!-- Adjust width as needed -->
                    <th style="width: 80%;">Task Text</th> <!-- Adjust width as needed -->
                    <th style="width: 5%;"></th> <!-- Adjust width as needed -->
                </tr>
            </thead>
            <tbody>
                {% for item in all_tasks %}
                <tr>
                    <td>{{ item.task_tag }}</td>
                    <td>{{ item.task_text }}</td>
                    <td class="text-right">
                        <a href="{% url 'tasks:deletetask' id=item.id %}" class="btn btn-sm"><i class="fa-regular fa-trash-can"></i></a>
                        <a href="{% url 'tasks:deletetask' id=item.id %}" class="btn btn-sm"><i class="fa-solid fa-pen-to-square"></i></a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    
    <div class="col-4">
        <table class="table table-striped table-hover table-sm">
            <thead>
                Tags
            </thead>
            <tbody>
                {% for item in all_tags %}
                <tr>
                    <td>
                        {{ item.tag_text }}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock content %}